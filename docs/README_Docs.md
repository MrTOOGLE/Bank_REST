# üè¶ –°–∏—Å—Ç–µ–º–∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ë–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –ö–∞—Ä—Ç–∞–º–∏

REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏ —Å JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –∏ —Ä–æ–ª–µ–≤—ã–º –¥–æ—Å—Ç—É–ø–æ–º.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- **–°–æ–∑–¥–∞–≤–∞—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å** –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏
- **–î–µ–ª–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã** –º–µ–∂–¥—É —Å–≤–æ–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏
- **–£–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** (–¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)
- **–ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–∞—Ä—Ç—ã** —Å –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –Ω–æ–º–µ—Ä–∞–º–∏
- **–ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—ã** –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å—Ç–∞—Ç—É—Å–∞–º–∏

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Java 17**
- **Spring Boot 3.2.0**
- **Spring Security** + JWT —Ç–æ–∫–µ–Ω—ã (JJWT 0.11.5)
- **Spring Data JPA** + Hibernate
- **Spring Validation** (Jakarta Validation)
- **MySQL 8.0** + MySQL Connector
- **Liquibase** –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π –ë–î
- **MapStruct 1.5.5** –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ DTO
- **Lombok** –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –∫–æ–¥–∞
- **SpringDoc OpenAPI** (Swagger UI 2.2.0)
- **Docker Compose** –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- **JUnit 5** + Spring Security Test –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### üê≥ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/MrTOOGLE/Bank_REST.git
cd Bank_REST

# –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
./gradlew clean build

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: **http://localhost:8080**

### üíª –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å MySQL –ª–æ–∫–∞–ª—å–Ω–æ:**
```bash
# –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
mysql -u root -p
CREATE DATABASE bankcards_db;
CREATE USER 'bankuser'@'localhost' IDENTIFIED BY 'bankpass';
GRANT ALL PRIVILEGES ON bankcards_db.* TO 'bankuser'@'localhost';
```

2. **–ò–∑–º–µ–Ω–∏—Ç—å application.yml:**
```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/bankcards_db
```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
```bash
./gradlew bootRun
```

## üìñ API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### Swagger UI
**http://localhost:8080/swagger-ui.html** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

#### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /api/v1/auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /api/v1/auth/login` - –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

#### üí≥ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–∞–º–∏
- `GET /api/v1/cards` - –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ä—Ç (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π)
- `GET /api/v1/cards/my/full` - –°–≤–æ–∏ –∫–∞—Ä—Ç—ã —Å –ø–æ–ª–Ω—ã–º–∏ –Ω–æ–º–µ—Ä–∞–º–∏
- `GET /api/v1/cards/{id}/balance` - –ë–∞–ª–∞–Ω—Å –∫–∞—Ä—Ç—ã
- `POST /api/v1/cards` - –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã (—Ç–æ–ª—å–∫–æ ADMIN)
- `PUT /api/v1/cards/{id}/status` - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ (—Ç–æ–ª—å–∫–æ ADMIN)
- `PUT /api/v1/cards/{id}/block` - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–∞—Ä—Ç—ã
- `DELETE /api/v1/cards/{id}` - –£–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã (—Ç–æ–ª—å–∫–æ ADMIN)

#### üí∏ –ü–µ—Ä–µ–≤–æ–¥—ã
- `POST /api/v1/transfers` - –ü–µ—Ä–µ–≤–æ–¥ –º–µ–∂–¥—É —Å–≤–æ–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏

#### üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (—Ç–æ–ª—å–∫–æ ADMIN)
- `GET /api/v1/users` - –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `POST /api/v1/users` - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `PUT /api/v1/users/{id}/role` - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏
- `DELETE /api/v1/users/{id}` - –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üë§ –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### üî® ADMIN
- –°–æ–∑–¥–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–∞—Ä—Ç
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–µ–π)
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∫–∞—Ä—Ç –≤ —Å–∏—Å—Ç–µ–º–µ
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∫–∞—Ä—Ç

### üë®‚Äçüíº USER
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –∫–∞—Ä—Ç
- –ü–µ—Ä–µ–≤–æ–¥—ã –º–µ–∂–¥—É —Å–≤–æ–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏
- –ó–∞–ø—Ä–æ—Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å–≤–æ–∏—Ö –∫–∞—Ä—Ç
- –ü—Ä–æ—Å–º–æ—Ç—Ä –±–∞–ª–∞–Ω—Å–∞

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **JWT —Ç–æ–∫–µ–Ω—ã** –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç** (**** **** **** 1234)
- **–†–æ–ª–µ–≤–æ–π –¥–æ—Å—Ç—É–ø** (ADMIN/USER)
- **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π** (BCrypt)
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**
- **–ó–∞—â–∏—Ç–∞ –æ—Ç SQL –∏–Ω—ä–µ–∫—Ü–∏–π** (JPA)

## üóÉÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –°—Ö–µ–º–∞
- **users** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
- **cards** - –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–∞—Ä—Ç—ã

### –ú–∏–≥—Ä–∞—Ü–∏–∏
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ Liquibase –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/main/java/com/example/bankcards/
‚îú‚îÄ‚îÄ config/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (Security, etc)
‚îú‚îÄ‚îÄ controller/      # REST –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îú‚îÄ‚îÄ dto/            # Data Transfer Objects
‚îú‚îÄ‚îÄ entity/         # JPA —Å—É—â–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ exception/      # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
‚îú‚îÄ‚îÄ mapper/         # MapStruct –º–∞–ø–ø–µ—Ä—ã
‚îú‚îÄ‚îÄ repository/     # JPA —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
‚îú‚îÄ‚îÄ security/       # JWT –∏ Spring Security
‚îú‚îÄ‚îÄ service/        # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îî‚îÄ‚îÄ util/           # –£—Ç–∏–ª–∏—Ç—ã
```

## üì¶ Docker

### –°–µ—Ä–≤–∏—Å—ã
- **MySQL 8.0** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–ø–æ—Ä—Ç 3306)
- **Java –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** - REST API (–ø–æ—Ä—Ç 8080)

### Volumes
- `mysql_data` - –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ MySQL

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–ü–∞–≥–∏–Ω–∞—Ü–∏—è**: `?page=0&size=10&sort=validityPeriod,desc`
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è DTO —Å Jakarta Validation
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ì–ª–æ–±–∞–ª—å–Ω—ã–π exception handler
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –õ–æ–≥–∏ SQL –∑–∞–ø—Ä–æ—Å–æ–≤ –≤–∫–ª—é—á–µ–Ω—ã

## üë®‚Äçüíª –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –∫–∞–∫ —Ç–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞–≤—ã–∫–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ Spring Boot.